# --- 로그 설정 ---
logLevel: info
logDestinations: [stdout, file]
logFile: /var/log/mediamtx/mediamtx.log

# --- API 설정 ---
api: yes
apiAddress: :8119

# --- HLS 설정 (Low Latency) ---
hls: yes
hlsAddress: :8120
hlsAlwaysRemux: no           # 모든 경로에서 항상 HLS 스트리밍 생성
hlsVariant: lowLatency        # 저지연 HLS 형식
hlsSegmentCount: 7            # 재생 목록에 포함할 세그먼트 수
hlsSegmentDuration: 1s        # 각 세그먼트 길이 (짧을수록 저지연)
hlsPartDuration: 200ms        # 저지연 파트 길이

# --- RTSP 설정 ---
rtsp: yes
rtspAddress: :8121

# --- WebRTC 설정 ---
webrtc: yes
webrtcAddress: :8117
webrtcLocalUDPAddress: :8118
webrtcAdditionalHosts:
  - 192.168.10.181
webrtcAllowOrigin: "*"
webrtcICEServers2:
  - url: stun:stun.l.google.com:19302
  - url: turn:14.51.233.129:3478
    username: pluxity
    password: pluxity0304


# --- 인증 설정 (핵심 해결책: 올바른 키 이름과 구조) ---
# 'auth' 블록이 아니라, 아래의 키들이 직접 최상위 레벨에 위치해야 합니다.
authMethod: internal
authInternalUsers:
  - user: any
    pass:
    permissions:
      - action: api
      - action: publish
      - action: read

paths:
#    제주위파크1블럭
  CCTV-JEJU1-31:
    source: rtsp://admin:live0416@221.162.21.246:31554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU1-32:
    source: rtsp://admin:live0416@221.162.21.246:32554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU1-33:
    source: rtsp://admin:live0416@221.162.21.246:33554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU1-34:
    source: rtsp://admin:live0416@221.162.21.246:34554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU1-35:
    source: rtsp://admin:live0416@221.162.21.246:35554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU1-36:
    source: rtsp://admin:live0416@221.162.21.246:36554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU1-37:
    source: rtsp://admin:live0416@221.162.21.246:37554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU1-38:
    source: rtsp://admin:live0416@221.162.21.246:38554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU1-39:
    source: rtsp://admin:live0416@221.162.21.246:39554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU1-40:
    source: rtsp://admin:live0416@221.162.21.246:40554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU1-41:
    source: rtsp://admin:live0416@221.162.21.246:41554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU1-42:
    source: rtsp://admin:live0416@221.162.21.246:42554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU1-43:
    source: rtsp://admin:live0416@221.162.21.246:43554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU1-44:
    source: rtsp://admin:live0416@221.162.21.246:44554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU1-45:
    source: rtsp://admin:live0416@221.162.21.246:45554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp

#   제주위파크2블럭
  CCTV-JEJU2-31:
    source: rtsp://admin:live0416@121.189.117.243:31554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU2-32:
    source: rtsp://admin:live0416@121.189.117.243:32554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU2-33:
    source: rtsp://admin:live0416@121.189.117.243:33554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU2-34:
    source: rtsp://admin:live0416@121.189.117.243:34554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU2-35:
    source: rtsp://admin:live0416@121.189.117.243:35554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU2-36:
    source: rtsp://admin:live0416@121.189.117.243:36554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU2-37:
    source: rtsp://admin:live0416@121.189.117.243:37554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU2-38:
    source: rtsp://admin:live0416@121.189.117.243:38554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU2-39:
    source: rtsp://admin:live0416@121.189.117.243:39554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU2-40:
    source: rtsp://admin:live0416@121.189.117.243:40554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU2-41:
    source: rtsp://admin:live0416@121.189.117.243:41554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU2-42:
    source: rtsp://admin:live0416@121.189.117.243:42554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU2-43:
    source: rtsp://admin:live0416@121.189.117.243:43554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU2-44:
    source: rtsp://admin:live0416@121.189.117.243:44554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-JEJU2-45:
    source: rtsp://admin:live0416@121.189.117.243:45554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp

#   천안일봉공원BL2
  # CCTV-CHEONAN-21:
  #   source: rtsp://admin:live0416@221.158.235.7:21554/profile1/media.smp
  #   sourceOnDemand: true
  #   rtspTransport: tcp
  # CCTV-CHEONAN-22:
  #   source: rtsp://admin:live0416@221.158.235.7:22554/profile1/media.smp
  #   sourceOnDemand: true
  #   rtspTransport: tcp
  # CCTV-CHEONAN-23:
  #   source: rtsp://admin:live0416@221.158.235.7:23554/profile1/media.smp
  #   sourceOnDemand: true
  #   rtspTransport: tcp
  # CCTV-CHEONAN-24:
  #   source: rtsp://admin:live0416@221.158.235.7:24554/profile1/media.smp
  #   sourceOnDemand: true
  #   rtspTransport: tcp
  # CCTV-CHEONAN-25:
  #   source: rtsp://admin:live0416@221.158.235.7:25554/profile1/media.smp
  #   sourceOnDemand: true
  #   rtspTransport: tcp
  # CCTV-CHEONAN-26:
  #   source: rtsp://admin:live0416@221.158.235.7:26554/profile1/media.smp
  #   sourceOnDemand: true
  #   rtspTransport: tcp
  # CCTV-CHEONAN-27:
  #   source: rtsp://admin:live0416@221.158.235.7:27554/profile1/media.smp
  #   sourceOnDemand: true
  #   rtspTransport: tcp
  # CCTV-CHEONAN-28:
  #   source: rtsp://admin:live0416@221.158.235.7:28554/profile1/media.smp
  #   sourceOnDemand: true
  #   rtspTransport: tcp
  # CCTV-CHEONAN-29:
  #   source: rtsp://admin:live0416@221.158.235.7:29554/profile1/media.smp
  #   sourceOnDemand: true
  #   rtspTransport: tcp
  # CCTV-CHEONAN-30:
  #   source: rtsp://admin:live0416@221.158.235.7:30554/profile1/media.smp
  #   sourceOnDemand: true
  #   rtspTransport: tcp
  # CCTV-CHEONAN-31:
  #   source: rtsp://admin:live0416@221.158.235.7:31554/profile1/media.smp
  #   sourceOnDemand: true
  #   rtspTransport: tcp
  # CCTV-CHEONAN-32:
  #   source: rtsp://admin:live0416@221.158.235.7:32554/profile1/media.smp
  #   sourceOnDemand: true
  #   rtspTransport: tcp


#   양재 청년주택 1지구
  # CCTV-YANGJAE-10:
  #   source: rtsp://admin:live0416@221.148.251.246:10554/profile1/media.smp
  #   sourceOnDemand: true
  #   rtspTransport: tcp
  CCTV-YANGJAE-20:
    source: rtsp://admin:live0416@221.148.251.246:20554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  # CCTV-YANGJAE-30:
  #   source: rtsp://admin:live0416@221.148.251.246:30554/profile1/media.smp
  #   sourceOnDemand: true
  #   rtspTransport: tcp
  CCTV-YANGJAE-40:
    source: rtsp://admin:live0416@221.148.251.246:40554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp


#   인천연희공원
#  CCTV-YEONHEE-51:
#    source: rtsp://admin:live0416@218.148.86.142:30551/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-YEONHEE-52:
#    source: rtsp://admin:live0416@218.148.86.142:30552/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-YEONHEE-53:
#    source: rtsp://admin:live0416@218.148.86.142:30553/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-YEONHEE-54:
#    source: rtsp://admin:live0416@218.148.86.142:30554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-YEONHEE-55:
#    source: rtsp://admin:live0416@218.148.86.142:30555/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-YEONHEE-56:
#    source: rtsp://admin:live0416@218.148.86.142:30556/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-YEONHEE-57:
#    source: rtsp://admin:live0416@218.148.86.142:30557/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-YEONHEE-58:
#    source: rtsp://admin:live0416@218.148.86.142:30558/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-YEONHEE-59:
#    source: rtsp://admin:live0416@218.148.86.142:30559/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-YEONHEE-60:
#    source: rtsp://admin:live0416@218.148.86.142:30560/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp


#   오산세교A13
#  CCTV-OSAN-31:
#    source: rtsp://admin:live0416@121.168.196.179:31554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-OSAN-32:
#    source: rtsp://admin:live0416@121.168.196.179:32554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-OSAN-33:
#    source: rtsp://admin:live0416@121.168.196.179:33554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-OSAN-34:
#    source: rtsp://admin:live0416@121.168.196.179:34554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-OSAN-35:
#    source: rtsp://admin:live0416@121.168.196.179:35554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-OSAN-36:
#    source: rtsp://admin:live0416@121.168.196.179:36554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-OSAN-37:
#    source: rtsp://admin:live0416@121.168.196.179:37554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-OSAN-38:
#    source: rtsp://admin:live0416@121.168.196.179:38554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-OSAN-39:
#    source: rtsp://admin:live0416@121.168.196.179:39554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-OSAN-40:
#    source: rtsp://admin:live0416@121.168.196.179:40554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-OSAN-41:
#    source: rtsp://admin:live0416@121.168.196.179:41554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-OSAN-42:
#    source: rtsp://admin:live0416@121.168.196.179:42554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-OSAN-43:
#    source: rtsp://admin:live0416@121.168.196.179:43554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-OSAN-44:
#    source: rtsp://admin:live0416@121.168.196.179:44554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-OSAN-45:
#    source: rtsp://admin:live0416@121.168.196.179:45554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp


#   안동옥송상록공원
  CCTV-ANDONG-21:
    source: rtsp://admin:live0416@222.104.198.41:21554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-ANDONG-22:
    source: rtsp://admin:live0416@222.104.198.41:22554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-ANDONG-23:
    source: rtsp://admin:live0416@222.104.198.41:23554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-ANDONG-24:
    source: rtsp://admin:live0416@222.104.198.41:24554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-ANDONG-25:
    source: rtsp://admin:live0416@222.104.198.41:25554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-ANDONG-26:
    source: rtsp://admin:live0416@222.104.198.41:26554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  # CCTV-ANDONG-27:
  #   source: rtsp://admin:live0416@222.104.198.41:27554/profile1/media.smp
  #   sourceOnDemand: true
  #   rtspTransport: tcp
  CCTV-ANDONG-28:
    source: rtsp://admin:live0416@222.104.198.41:28554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-ANDONG-29:
    source: rtsp://admin:live0416@222.104.198.41:29554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-ANDONG-30:
    source: rtsp://admin:live0416@222.104.198.41:30554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-ANDONG-31:
    source: rtsp://admin:live0416@222.104.198.41:31554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  # CCTV-ANDONG-32:
  #   source: rtsp://admin:live0416@222.104.198.41:32554/profile1/media.smp
  #   sourceOnDemand: true
  #   rtspTransport: tcp
  CCTV-ANDONG-33:
    source: rtsp://admin:live0416@222.104.198.41:33554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp


#   인천검단3차
  CCTV-GEOMDAN-21:
    source: rtsp://admin:live0416@211.195.173.66:21554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-GEOMDAN-22:
    source: rtsp://admin:live0416@211.195.173.66:22554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-GEOMDAN-23:
    source: rtsp://admin:live0416@211.195.173.66:23554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-GEOMDAN-24:
    source: rtsp://admin:live0416@211.195.173.66:24554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-GEOMDAN-25:
    source: rtsp://admin:live0416@211.195.173.66:25554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-GEOMDAN-26:
    source: rtsp://admin:live0416@211.195.173.66:26554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-GEOMDAN-27:
    source: rtsp://admin:live0416@211.195.173.66:27554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-GEOMDAN-28:
    source: rtsp://admin:live0416@211.195.173.66:28554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-GEOMDAN-29:
    source: rtsp://admin:live0416@211.195.173.66:29554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-GEOMDAN-30:
    source: rtsp://admin:live0416@211.195.173.66:30554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-GEOMDAN-31:
    source: rtsp://admin:live0416@211.195.173.66:31554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp
  CCTV-GEOMDAN-32:
    source: rtsp://admin:live0416@211.195.173.66:32554/profile1/media.smp
    sourceOnDemand: true
    rtspTransport: tcp


#   당진 해저케이블2공장
#  CCTV-DANGJIN-31:
#    source: rtsp://admin:live0416@59.25.78.21:31554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-DANGJIN-32:
#    source: rtsp://admin:live0416@59.25.78.21:32554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-DANGJIN-33:
#    source: rtsp://admin:live0416@59.25.78.21:33554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-DANGJIN-34:
#    source: rtsp://admin:live0416@59.25.78.21:34554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-DANGJIN-35:
#    source: rtsp://admin:live0416@59.25.78.21:35554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp
#  CCTV-DANGJIN-36:
#    source: rtsp://admin:live0416@59.25.78.21:36554/profile1/media.smp
#    sourceOnDemand: true
#    rtspTransport: tcp