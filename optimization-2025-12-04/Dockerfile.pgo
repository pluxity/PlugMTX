FROM alpine:3.19

LABEL version="pgo-optimized-2025-12-04"
LABEL description="MediaMTX PGO optimization: Profile-Guided Optimization for hotpath optimization, all previous optimizations included"

# Copy PGO optimized binary
COPY mediamtx_pgo_optimized /app/mediamtx

# Copy configuration
COPY mediamtx.yml /app/mediamtx.yml

WORKDIR /app

# Expose ports
EXPOSE 8119 8120 8121 8117 8118/udp 9999 1935 8890/udp

CMD ["/app/mediamtx"]
