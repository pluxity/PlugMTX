# MediaMTX Environment Configuration
# Copy this file to .env and configure your settings

# =======================================================
#                   Port Configuration
# =======================================================
# IMPORTANT: These are HOST ports that map to container ports
# Container uses fixed ports: 8117, 8118, 8119, 8120, 8121
# Format: HOST_PORT:CONTAINER_PORT
#
# Example: MEDIA_MTX_WEBRTC_PORT=8117 means host:8117 -> container:8117
#          MEDIA_MTX_WEBRTC_PORT=9000 means host:9000 -> container:8117

# WebRTC Port (Dashboard + Signaling)
# Host port that maps to container port 8117
MEDIA_MTX_WEBRTC_PORT=8117

# WebRTC UDP Port (ICE/Media)
# Host port that maps to container port 8118
MEDIA_MTX_WEBRTC_UDP_PORT=8118

# API Port
# Host port that maps to container port 8119
MEDIA_MTX_API_PORT=8119

# HLS Port
# Host port that maps to container port 8120
MEDIA_MTX_HLS_PORT=8120

# RTSP Port
# Host port that maps to container port 8121
MEDIA_MTX_RTSP_PORT=8121

# =======================================================
#                   General Settings
# =======================================================
# Timezone
TZ=Asia/Seoul

# =======================================================
#                   Resource Limits
# =======================================================
# CPU Limit (cores)
CPU_LIMIT=2

# Memory Limit (GB)
MEMORY_LIMIT=2G

# CPU Reservation (cores)
CPU_RESERVATION=0.5

# Memory Reservation (MB)
MEMORY_RESERVATION=512M

# =======================================================
#                   Optional Settings
# =======================================================
# Enable/Disable Services (uncomment to use)
# MTX_API=yes
# MTX_APIADDRESS=:9997
# MTX_WEBRTC=yes
# MTX_WEBRTCADDRESS=:8889
# MTX_HLS=yes
# MTX_HLSADDRESS=:8888
# MTX_RTSP=yes
# MTX_RTSPADDRESS=:8554

# =======================================================
#                   Notes
# =======================================================
# 1. Port conflicts: Make sure these ports are not already in use
# 2. Firewall: Ensure these ports are allowed through firewall
# 3. WebRTC UDP: Port 8189/UDP must be accessible for WebRTC to work
# 4. Default values are used if environment variables are not set
